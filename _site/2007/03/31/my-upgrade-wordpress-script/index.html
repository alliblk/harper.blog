<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="description" content="Software, PHP, MySQL, XMPP, Hacking, Baphomet" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp,noydir" />
<title> My upgrade wordpress script |  Harper Reed: Tech, Mobile, Yo-yoing and Death Metal</title> 
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.7.0/jquery-ui.min.js"></script>
<link href="http://feeds.feedburner.com/HarperReed" rel="alternate" title="Harper Reed: Tech, Mobile, Yo-yoing and Death Metal" type="application/atom+xml" />
<link rel="stylesheet" href="/css/style.css" type="text/css" /> 
<META name="verify-v1" content="bxsrf6C7p0+qY6MxNCbSNSGdkeDA8dQSxjTsNJu4Sa0=" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<meta name="myid" content="0eda4814-55e0-4756-bf30-0f1bf5a4b469" />
<link rel="openid.delegate" href="http://harper.myopenid.com/" />
<link rel="shorcut icon" type="image/x-ico" href="/favicon.ico" />
</head> 
<body>
<!-- bgcontain START -->
<div id="bgcontain">
<!-- header START -->
<div class="HeaderBG">
<div class="Header">
<h1><a href="http://www.nata2.org">Harper Reed: Tech, Mobile, Yo-yoing and Death Metal</a></h1>
<div class="Desc">Software, PHP, MySQL, XMPP, Hacking, Baphomet</div>  

</div> 
</div> 
<!-- header END -->
<!-- containerBG START -->
<div class="ContainerBG">
<!-- container START -->
<div class="Container"> 
<!-- Central Content START -->
<div class="SC">
<!-- post -->
<div class="Post" style="padding-bottom: 50px;">
<!--posthead -->
<div class="PostHead">
<h1 class="title"><a title="Permanent Link to My upgrade wordpress script." href="/2007/03/31/my-upgrade-wordpress-script/" rel="bookmark">My upgrade wordpress script</a></h1>
<p class="PostDate">
<strong class="day">31</strong>
<strong class="month">Mar</strong>
</p>
<p class="PostInfo">Written by <a href="/about">harper</a> on Mar 31 2007 at 23:54:13</p>
</div>
<!--end posthead -->
<!-- post content -->
<div class="PostContent">
<!-- content -->
<p>I broke my blog the other day. It was a pain in the ass. I don&#8217;t really know what happened - just that it broke. So I was thinking, I hate upgrading my wordpress. I hate it. I agree 100% with <a href='http://www.mattcutts.com/blog/upgrading-wordpress/'>Matt Cutts</a> about how wordpress has one of the most clunky and cruft creating upgrade process. So annoying. And it gets even more annoying when you are doing it with 50 blogs. stupid friends. hah. So awhile ago I created this script which basically lets me just execute a small number of commands to upgrade a wordpress blog.</p>

<p>If a script isn&#8217;t really your thing, it seems like the best way to handle wordpress upgrades is to use SVN to do them. I am going to look into the best way to do that, but my experience so far in that experiment has shown me that the bleeding edge release of wordpress is not always a working release. ;)</p>
<a href='http://photomatt.net/'>Matt</a>
<p>So anyway. The script&#8230;</p>

<p>I am warning you that this script HAS KILLED AT LEAST ONE BLOG. hah. but it has also regularly upgraded at least 50 blogs as well. So.. use at your own risk. and feel free to modify and fix stuff that you see.</p>

<p>I am assuming that your web layout is: <blockquote>/ <em>- root of domain</em>
/web <em>- blogs webroot
</em>/archive  <em>- archive for old backups
</em></blockquote> If your layout differs it will not be too hard to change the vars and make the script work for you. The script will backup your wordpress DB, tar up your wordpress dir, download the newest version of wordpress, untar the new wordpress, and then move all your wp-content and what not into the new wordpress dir. It then puts all the backups into a dated folder in the archive dir. then cleans up a bit after itself.</p>

<p>The script does not account for any customizations at all. If you have any files that are placed in the webroot, or files that are not in their normal places, it will not work at all. Honestly - unless you know what you are doing and really want to play Russian roulette of the bash kind - I wouldn&#8217;t use this script. ;) <pre class='markdown-html-error' style='border: solid 3px red; background-color: pink'>REXML could not parse this XML/HTML: 
&lt;blockquote&gt;#!/bin/bash</pre></p>

<h1 id='dirs'>Dirs</h1>

<p>webdir=&#8221;web&#8221; archivedir=&#8221;archive&#8221;</p>

<h1 id='mysql_credentials'>Mysql credentials</h1>

<p>database=&#8221;wordpress mysql database&#8221; username=&#8221;wordpress mysql username&#8221; password=&#8221;wordpress mysql password&#8221;</p>

<h1 id='the_meat_of_the_script'>the meat of the script</h1>

<p>echo &#8220;Wordpress upgrade script&#8221; echo &#8220;* Backing up wordpress db&#8221; /usr/local/mysql/bin/mysqldump $database -u $username -p$password &#62; sql_backup_<code>date +&quot;%m-%d-%Y&quot;</code>.sql echo &#8220;* Gzipping wordpress sql&#8221; gzip sql_backup_<code>date +&quot;%m-%d-%Y&quot;</code>.sql mkdir wordpress.backup_<code>date +&quot;%m-%d-%Y&quot;</code> mv sql_backup_<code>date +&quot;%m-%d-%Y&quot;</code>.sql.gz wordpress.backup_<code>date +&quot;%m-%d-%Y&quot;</code> mkdir wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code> cd $webdir echo &#8220;* Backing up the old wordpress&#8221; tar zcf ../wordpress.backup_<code>date +&quot;%m-%d-%Y&quot;</code>/$webdir.backup_<code>date +&quot;%m-%d-%Y-%T&quot;</code>.tgz . cp -a wp-config.php ../wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code> cp -a wp-content ../wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code> cp -a wp-images ../wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code> cp -a .htaccess ../wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code> cd ../wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code> echo &#8220;* Downloading the newest wordpress&#8221; wget -q http://wordpress.org/latest.tar.gz echo &#8220;* Extrating the new wordpress&#8221; tar zxf latest.tar.gz cd .. echo &#8220;* Doing a bunch of directory and file juggling&#8221; mv $webdir wordpress.backup_<code>date +&quot;%m-%d-%Y&quot;</code>/ mv wordpress.backup_<code>date +&quot;%m-%d-%Y&quot;</code>/ $archivedir/wordpress.backup_<code>date +&quot;%m-%d-%Y-%T&quot;</code> mv wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code>/wordpress $webdir cp -af wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code>/* $webdir/ cp -af wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code>/.htaccess $webdir/</p>

<p>echo &#8220;* Cleaning up&#8221; rm -rf wp-backup_<code>date +&quot;%m-%d-%Y&quot;</code>/ echo &#8220;* Backup placed in $archivedir/wordpress.backup_<code>date +&quot;%m-%d-%Y-%T&quot;</code>&#8221;</p>

<p>echo &#8220;All upgraded. Run the upgrade script: /wp-admin/upgrade.php&#8221;&lt;/blockquote&gt; So you drop this script into your domain root and then execute it. Here is the output from my most recent upgrade. <pre class='markdown-html-error' style='border: solid 3px red; background-color: pink'>REXML could not parse this XML/HTML: 
&lt;blockquote&gt;[jhr@destrukt nata2.org]$ sh wordress_upgrade.sh
Wordpress upgrade script</pre></p>

<ul>
<li>Backing up wordpress db</li>

<li>Gzipping wordpress sql</li>

<li>Backing up the old wordpress</li>

<li>Downloading the newest wordpress</li>

<li>Extrating the new wordpress</li>

<li>Doing a bunch of directory and file juggling</li>

<li>Cleaning up</li>

<li>Backup placed in archive/wordpress.backup_03-31-2007-17:50:04 All upgraded. Run the upgrade script: /wp-admin/upgrade.php <span>jhr@destrukt nata2.org</span>$&lt;/blockquote&gt; Since it completely removes all the old files, except those in wp-content and wp-images it leads to less cruft and nonsense. It simply runs though and does what I would have done with my fingers, but automagically.</li>
</ul>

<p>You can <a href='http://stuff.harperreed.org/v/code/wordpress_upgrader/f/wordress_upgrade-release.sh'>download the script at stuff.harperreed.org</a>.</p>

<p>So there yea go. Its really simple and quite easy. And it works great for upgrading my blogs. Let me know if it worked for you, or if you have any comments or suggestions. <p class='wlWriterSmartContent' id='0767317B-992E-4b12-91E0-4F059A8CECA8:4aa8b25b-1fa2-4173-bbf9-60825aebbc8f' contenteditable='false' style='margin: 0px; padding: 0px; display: inline'>[tags]wordpress, upgrade, script, bash, automatic upgrade, php[/tags]</p></p>
<!-- end content -->
<!-- related posts -->
<div class="RelatedPosts"> 
<h3>Related Posts</h3> 
<ul>

<li><a href="/2007/01/15/how-i-setup-blogs-for-my-friends/">How I setup blogs for my friends</a></li>

<li><a href="/2009/12/10/2009-hosting-summary-or-where-does-harper-host-in-20092010/">2009 Hosting Summary (or where does Harper host in 2009/2010)</a></li>

<li><a href="/2009/03/08/my-thoughts-on-the-kindle/">My thoughts on the kindle: 1 vs 2 and the iphone app</a></li>

<li><a href="/2008/02/29/the-mosso-cloud-how-requests-are-not-a-good-metric/">The Mosso Cloud: Requests are not a good metric</a></li>

<li><a href="/2007/04/16/rails-woes-the-slow-that-is-keeping-twitter-down/">Rails woes. The slow that is keeping twitter down.</a></li>

</ul>
</div> 
<!-- end related posts -->
<!-- discuss -->
<div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_identifier= '';
var disqus_developer = 1;
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
dsq.src = 'http://nata2.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=nata2">comments powered by Disqus.</a></noscript>
<!-- end discuss -->
</div>
 <!-- end post content -->
</div>
<!-- end post -->

</div>
<!-- Central Content END -->
<!-- Side Right - START -->
<div class="SR">
<div class="SCtop"><div></div></div>
<div class="SCcontent"> 
    <p><a href="http://www.catb.org/hacker-emblem/"><img style="padding-right: 5px; margin: 0px" src="/images/glider.png" align="left"></a> <strong>Hi.</strong> My name is <a href="http://nata2.org/">Harper</a>. I am an engineer excited about real time, social software and the open source software movement. I am currently spending some time building interesting things and hacking for <a href="http://www.nepholologist.com/">rackspace</a>. In a previous life, I was the CTO of the awesome <a href="http://www.threadless.com">Threadless</a>. 
This is obviously my blog. I write about everything from being a professional yoyoer to hacking the newest Internet appliance. Be sure and check out my homepage at <a href="http://www.harperreed.org">harperreed.org</a>. If you are so interested, my resume is located <a href="http://www.harperreed.org/resume">here</a>. I love getting emails and what not so feel free to contact me through <a href="http://www.harperreed.org/contact">here</a>. </p>
<p>Be sure and take a gander at&nbsp;my <a href="http://flickr.com/photos/natatwo/">photos</a>.</p>
<script>
var b=window,c=document,f=false;
function _click(d){    var a="status=0,scrollbars=0,menubar=0,statusbar=0,resizable=1, width=300,height=500,location="+(h()?"1":"0");b.open(d,"",a)}
function h(){if(b.ActiveXObject&&b.XMLHttpRequest){return false}return true};
</script>
<p>If you want to contact me <a name="s" target="_blank" href="http://www.google.com/talk/service/badge/Start?tk=z01q6amlqtujnl6pvfokj2one9hmtk497vg29vdfi6q0qfdaj57cn4kval4vg0deih01q0v2sbsveu8d51nvi9faiglrcc8ela57sp9e2urd0m04gc1vn2cdc8ppjt010vl2hok0dqsj1tjn99egtftuo92car714o27bltqt" id="chat-link">click here to start a chat.</a>
<div id="chat-wrapper-main" style="display:none;"></div>
</p>

     <div class="SRL"> 
        <div class="Status"> 
    <h2><strong>Status</strong></h2> 
    <div id="twitter_div"> 
        <ul id="twitter_update_list"></ul> 
        <a href="http://twitter.com/harper" id="twitter-link" style="display:block;text-align:right;">follow me on Twitter</a> 
    </div> 
</div> 

          <div class="Links"> 
   <h2><strong>Friends</strong></h2> 
    <ul> 
     <li><a href="http://www.holovaty.com/">Adrian Holovaty</a></li> 
<li><a href="http://www.cs.cmu.edu/~acarlson" rel="friend met">Andrew Carlson</a></li> 
<li><a href="http://atkinx.com" rel="friend met colleague">Atkins Meyer</a></li> 
<li><a href="http://www.red-bean.com/sussman/">Ben Collins-Sussman</a></li> 
<li><a href="http://www.benseese.com/" rel="friend met">Ben Seese</a></li> 
<li><a href="http://www.bdog.org" rel="acquaintance met">Bernie Selvey</a></li> 
<li><a href="http://www.adita.org/" rel="friend met neighbor">Bradley Adita</a></li> 
<li><a href="http://www.red-bean.com/fitz/">Brian Fitzpatrick</a></li> 
<li><a href="http://chriskalani.com/">Chris Kalani</a></li> 
<li><a href="http://weblog.lonelylion.com/" rel="friend met colleague">Chris McAvoy</a></li> 
<li><a href="http://colepierce.com/" rel="friend met neighbor">Cole Pierce</a></li> 
<li><a href="http://derek.broox.com" rel="friend met">Derek Broox</a></li> 
<li><a href="http://www.dylanreed.com/" rel="friend met sibling">Dylan Reed</a></li> 
<li><a href="http://edithfrost.com/" rel="acquaintance">Edith Frost</a></li> 
<li><a href="http://elainepark.com" rel="friend met crush">Elaine Park</a></li> 
<li><a href="http://pzmahiru.pixnet.net/blog" rel="friend">Ella Pan</a></li> 
<li><a href="http://gburt.blogspot.com/">Gabriel Burt</a></li> 
<li><a href="http://www.probonobaker.com" rel="friend met crush">Gemma Petrie</a></li> 
<li><a href="http://www.hirominakazawa.com" rel="friend spouse sweetheart">Hiromi Nakazawa</a></li> 
<li><a href="http://www.jacobdehart.com" rel="friend met co-worker" target="_blank">Jacob Dehart</a></li> 
<li><a href="http://www.jakenickell.com" rel="friend met co-worker">Jake Nickell</a></li> 
<li><a href="http://www.callmejeffrey.com" rel="friend met co-worker">Jeffrey Kalmikoff</a></li> 
<li><a href="http://www.beardofbees.com/">Joe Trowbridge</a></li> 
<li><a href="http://www.blight.com/~superfly" rel="friend met">John Jaeger</a></li> 
<li><a href="http://www.in5anity.org" rel="friend met sibling">Jon Ruth</a></li> 
<li><a href="http://lakshvivek.com/" rel="friend met">Lakshmi Nagarajan</a></li> 
<li><a href="http://www.markhayward.net" rel="friend met">Mark Hayward</a></li> 
<li><a href="http://www.therats.org" rel="friend met">Matiss Duhon</a></li> 
<li><a href="http://ghostco.org" rel="friend met">Matthew Woodson</a></li> 
<li><a href="http://www.mikecompton.org" rel="friend met">Mike Compton</a></li> 
<li><a href="http://proxientunit.com" rel="friend met">Mike McNeil</a></li> 
<li><a href="http://www.biblicone.com/" rel="friend met">Mike Standeven</a></li> 
<li><a href="http://www.mimiblume.com" rel="friend met crush">Miriam Meier</a></li> 
<li><a href="http://morganbreaksthings.blogspot.com/" rel="friend met crush">Morgan Thoryk</a></li> 
<li><a href="http://blog.localkinegrinds.com/" rel="friend met">Ryan Kanno</a></li> 
<li><a href="http://moxievanilla.blogspot.com/" rel="friend met">Sarah Bright</a></li> 
<li><a href="http://photodork.org" rel="friend met">Sarah Reed</a></li> 
<li><a href="http://scottvdp.com/">Scott Van Den Plas</a></li> 
<li><a href="http://thom.watership.org" rel="friend met">Thom Parks</a></li> 
<li><a href="http://www.w36.com" rel="friend met">Tim Gunnerson</a></li> 
    </ul> 
   </div> 

    </div> 
    <div class="SRR"> 
        <script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">
  google.load('search', '1');
  google.setOnLoadCallback(function() {
    google.search.CustomSearchControl.attachAutoCompletion(
      '005257232071038103009:chkzt6rraoc',
      document.getElementById('q'),
      'cse-search-box');
  });
</script>

 <div class="Search"> 
            <h2>search</h2> 
            <form action="/search/" id="cse-search-box">
              <div>
                <input type="hidden" name="cx" value="005257232071038103009:chkzt6rraoc" />
                <input type="hidden" name="cof" value="FORID:11" />
                <input type="hidden" name="ie" value="UTF-8" />
                <input type="text" name="q" id="q" autocomplete="off" style="margin-top: 5px;" />
                <input type="submit" name="sa" value="Go" />
              </div>
            </form>
        </div> 
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>

        <div class="Archives">   
 <h2>Archives</h2> 
  <ul> 
    <li><a href="/archives/">Full archives</a></li>
    
  </ul>
</div>

        <div class="Pictures"> 
    <h2>Pictures</h2> 
    <A href="http://www.flickr.com/photos/natatwo"><img src="http://flashandburn.net/flickrtools/50406951@N00/color:eeeeee/recent.png" border="0"></a> 
</div> 


        <script type="text/javascript" src="http://www.google.com/reader/ui/publisher.js"></script> 
<script type="text/javascript" src="http://www.google.com/reader/public/javascript/user/18273797402131469936/state/com.google/broadcast?n=15&callback=GRC_p(%7Bc%3A'-'%2Ct%3A'Recently%20read%20on%20google%20reader'%2Cs%3A'false'%7D)%3Bnew%20GRC"></script> 


 </div> 
</div> 
<div class="clear"></div> 
<div class="SCbottom"><div></div></div> 


</div>
<!-- Side Right - END  -->
</div> 
<!-- container END -->
</div> 
<!-- containerBG END -->
<!-- ExtraBG Start -->
<div class="ExtraBG">
<!-- Extra Start -->
<div class="Extra">
 <!-- RecentPosts Start -->
            <div class="RecentPosts">
                <h3>Recent Entries</h3>
                <div id="recententries" class="dsq-widget">
                <ul>
                  
                    <li>
                      Aug 12, 2010 &mdash; <a href="/2010/08/12/if-you-see-this/">If you see this, this blog is hosted on app engine</a>
                    </li>
                  
                    <li>
                      Apr 05, 2010 &mdash; <a href="/2010/04/05/smitten-by-the-ipad-thoughts-and-complaints/">Smitten by the iPad: thoughts and complaints. </a>
                    </li>
                  
                    <li>
                      Feb 11, 2010 &mdash; <a href="/2010/02/11/musings-about-femtocells-the-futures/">Musings about femtocells: the futures!</a>
                    </li>
                  
                    <li>
                      Jan 18, 2010 &mdash; <a href="/2010/01/18/i-love-phones-designed-for-developing-countries/">I love phones designed for developing countries. </a>
                    </li>
                  
                    <li>
                      Dec 10, 2009 &mdash; <a href="/2009/12/10/2009-hosting-summary-or-where-does-harper-host-in-20092010/">2009 Hosting Summary (or where does Harper host in 2009/2010)</a>
                    </li>
                  
                    <li>
                      Oct 08, 2009 &mdash; <a href="/2009/10/08/leaving-threadless/">Leaving Threadless</a>
                    </li>
                  
                    <li>
                      Mar 08, 2009 &mdash; <a href="/2009/03/08/my-thoughts-on-the-kindle/">My thoughts on the kindle: 1 vs 2 and the iphone app</a>
                    </li>
                  
                    <li>
                      Feb 28, 2009 &mdash; <a href="/2009/02/28/python-oauth-client-exclaim/">Python Oauth Client - Excla.im</a>
                    </li>
                  
                    <li>
                      Jan 11, 2009 &mdash; <a href="/2009/01/11/seven-things-goddamn-internet-friends/">Seven Things (goddamn internet friends)</a>
                    </li>
                  
                    <li>
                      Jan 05, 2009 &mdash; <a href="/2009/01/05/2008-retrospectiv/">2008 Retrospective</a>
                    </li>
                  
                  </ul>
              </div>
                
            </div>
            <!-- RecentPosts END -->

            <!-- LastComments Start -->
            <div class="LastComments">
                <div id="recentcomments" class="dsq-widget"><h3 class="dsq-widget-title">Recent Comments</h3><script type="text/javascript" src="http://disqus.com/forums/nata2/recent_comments_widget.js?num_items=5&hide_avatars=1&avatar_size=32&excerpt_length=100"></script></div>
            </div>
            <!-- LastComments END -->

            <!-- MostCommented Start -->
            <div class="MostCommented">
                <div id="popularthreads" class="dsq-widget"><h3 class="dsq-widget-title">Popular Threads</h3><script type="text/javascript" src="http://disqus.com/forums/nata2/popular_threads_widget.js?num_items=5"></script></div>
            </div>
            <!-- MostCommented END -->
 
</div>
<!-- Extra END -->
</div>
<!-- ExtraBG END -->
<div class="FooterBG">
<div class="Footer">
<p><a href="/">Nata2.org</a> is &copy; 1997-2010 <a href="http://www.harperreed.org/contact/">Harper Reed</a>. Theme stoled and inspired by the great <a href="http://bloggingpro.com/">BloggingPro</a> theme by: <a href="http://designdisease.com">Design Disease</a>. Powered by <a href="http://jekyllrb.com/">Jekyll</a>.</p>

</div>
</div>
</div>
<!-- bgcontain END-->
<script type="text/javascript" src="/js/scripts.js"></script>
 
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-70650-9");
pageTracker._trackPageview();
} catch(err) {}
</script>
 

<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/harper.json?callback=twitterCallback2&amp;count=5"></script>

<script type="text/javascript">
//<![CDATA[
(function() {
	var links = document.getElementsByTagName('a');
	var query = '?';
	for(var i = 0; i < links.length; i++) {
	if(links[i].href.indexOf('#disqus_thread') >= 0) {
		query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
	}
	}
	document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/nata2/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>

<script type="text/javascript">
var _sf_async_config={uid:5483,domain:"nata2.org"};
(function(){
  function loadChartbeat() {
    window._sf_endpt=(new Date()).getTime();
    var e = document.createElement('script');
    e.setAttribute('language', 'javascript');
    e.setAttribute('type', 'text/javascript');
    e.setAttribute('src',
       (("https:" == document.location.protocol) ? "https://s3.amazonaws.com/" : "http://") +
       "static.chartbeat.com/js/chartbeat.js");
    document.body.appendChild(e);
  }
  var oldonload = window.onload;
  window.onload = (typeof window.onload != 'function') ?
     loadChartbeat : function() { oldonload(); loadChartbeat(); };
})();
</script>

</body>
</html>
